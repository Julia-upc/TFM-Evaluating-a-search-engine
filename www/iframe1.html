<!DOCTYPE html>
<html>
    <head>
        <style>
            iframe{
                width: 100%;
                height: 600px;
                border: 2px solid #ccc;
            }
        </style>
        <script> 
              var countInput = -1;
              var clicksInput = 0; 
        </script>
    </head>
    <body>
        <iframe id="ifr" src="http://aiproc.linkeddata.es/" onLoad="doOnLoad()" ></iframe>
        <script>    
            function doOnLoad() { 
                countInput++;
                Shiny.setInputValue("count",countInput);
            }
            
	    window.setInterval(checkFocus, 100);
	    // Ejecuta una funci√≥n de forma repetitiva cada vez que termina el periodo de tiempo determinado. Devuelve un ID de proceso.
		
	    // Focus determines where keyboard events go in the page at any given moment.
	    function checkFocus() { 
		  if(document.activeElement == document.getElementById("ifr")) { // document.activeElement it returns elements with focus, 			it is the elements in which something has happened. With window.focus we reactivate it again.
		  	clicksInput++;
		  	window.focus(); // The focus() method sets focus to a window!!
		   }
		   Shiny.setInputValue("click",clicksInput);
		}
	    
	    
        </script>
    </body>
</html>
